/**
 * Gets configuration data required for movie posters & banners
 */

'use strict';

angular.module('angularMovie').factory('MovieConfig', MovieConfig);

function MovieConfig($http, $q, API_URL, KEY) {
  var config;
  var confobj = {};

  confobj.getConfig = function () {
    return config ? $q.when(config) : $http.get(API_URL + ('/configuration?api_key=' + KEY)).then(function (res) {
      config = res.data;
      return config;
    });
  };
  return confobj;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9mYWN0b3JpZXMvbW92aWVjb25maWcuZmFjdG9yeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBSUEsWUFBWSxDQUFDOztBQUViLE9BQU8sQ0FDSixNQUFNLENBQUMsY0FBYyxDQUFDLENBQ3RCLE9BQU8sQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUM7O0FBRXJDLFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRTtBQUM1QyxNQUFJLE1BQU0sQ0FBQztBQUNYLE1BQUksT0FBTyxHQUFHLEVBQUUsQ0FBQzs7QUFFakIsU0FBTyxDQUFDLFNBQVMsR0FBRyxZQUFXO0FBQzdCLFdBQU8sQUFBQyxNQUFNLEdBQ2QsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FDZixLQUFLLENBQ0YsR0FBRyxDQUFDLE9BQU8sZ0NBQTZCLEdBQUcsQ0FBRSxDQUFDLENBQzlDLElBQUksQ0FBQyxVQUFDLEdBQUcsRUFBSztBQUNiLFlBQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFBO0FBQ2pCLGFBQU8sTUFBTSxDQUFBO0tBQ2QsQ0FBQyxDQUFBO0dBQ0gsQ0FBQTtBQUNILFNBQU8sT0FBTyxDQUFDO0NBQ2hCIiwiZmlsZSI6InNyYy9qcy9mYWN0b3JpZXMvbW92aWVjb25maWcuZmFjdG9yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2V0cyBjb25maWd1cmF0aW9uIGRhdGEgcmVxdWlyZWQgZm9yIG1vdmllIHBvc3RlcnMgJiBiYW5uZXJzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ2FuZ3VsYXJNb3ZpZScpXG4gIC5mYWN0b3J5KCdNb3ZpZUNvbmZpZycsIE1vdmllQ29uZmlnKTtcblxuICBmdW5jdGlvbiBNb3ZpZUNvbmZpZygkaHR0cCwgJHEsIEFQSV9VUkwsIEtFWSkge1xuICAgIHZhciBjb25maWc7XG4gICAgdmFyIGNvbmZvYmogPSB7fTtcblxuICAgIGNvbmZvYmouZ2V0Q29uZmlnID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKGNvbmZpZykgP1xuICAgICAgJHEud2hlbihjb25maWcpIDpcbiAgICAgICRodHRwXG4gICAgICAgIC5nZXQoQVBJX1VSTCArIGAvY29uZmlndXJhdGlvbj9hcGlfa2V5PSR7S0VZfWApXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBjb25maWcgPSByZXMuZGF0YVxuICAgICAgICAgIHJldHVybiBjb25maWdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICByZXR1cm4gY29uZm9iajtcbiAgfVxuIl19
