'use strict';

angular.module('angularMovie').controller('MovieInfoCtrl', MovieInfoCtrl);

function MovieInfoCtrl(MovieConfig, Movie, $routeParams, $scope) {
  MovieConfig.getConfig().then(function (data) {
    $scope.config = {
      base_url: data.images.base_url,
      backdrop_size: data.images.backdrop_sizes[2]
    };
  });

  Movie.getPopular().then(function (response, movieId) {
    var data = response.results;
    var movieId = $routeParams.movieId;
    for (var i = 0; i < data.length; i++) {
      if (data[i].id == movieId) {
        $scope.foundMovie = data[i];
      }
    }
  });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9jb250cm9sbGVycy9tb3ZpZWluZm8uY29udHJvbGxlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBRWIsT0FBTyxDQUNKLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FDdEIsVUFBVSxDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQzs7QUFFNUMsU0FBUyxhQUFhLENBQUMsV0FBVyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFO0FBQy9ELGFBQVcsQ0FDUixTQUFTLEVBQUUsQ0FDWCxJQUFJLENBQUMsVUFBQyxJQUFJLEVBQUs7QUFDZCxVQUFNLENBQUMsTUFBTSxHQUFHO0FBQ2QsY0FBUSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUTtBQUM5QixtQkFBYSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztLQUM3QyxDQUFBO0dBQ0osQ0FBQyxDQUFDOztBQUVILE9BQUssQ0FDRixVQUFVLEVBQUUsQ0FDWixJQUFJLENBQUMsVUFBQyxRQUFRLEVBQUUsT0FBTyxFQUFLO0FBQzNCLFFBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7QUFDNUIsUUFBSSxPQUFPLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQztBQUNuQyxTQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFBQztBQUM3QixVQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksT0FBTyxFQUFDO0FBQ3ZCLGNBQU0sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7R0FDRixDQUFDLENBQUM7Q0FDTiIsImZpbGUiOiJzcmMvanMvY29udHJvbGxlcnMvbW92aWVpbmZvLmNvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSgnYW5ndWxhck1vdmllJylcbiAgLmNvbnRyb2xsZXIoJ01vdmllSW5mb0N0cmwnLCBNb3ZpZUluZm9DdHJsKTtcblxuICBmdW5jdGlvbiBNb3ZpZUluZm9DdHJsKE1vdmllQ29uZmlnLCBNb3ZpZSwgJHJvdXRlUGFyYW1zLCAkc2NvcGUpIHtcbiAgICBNb3ZpZUNvbmZpZ1xuICAgICAgLmdldENvbmZpZygpXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAkc2NvcGUuY29uZmlnID0ge1xuICAgICAgICAgIGJhc2VfdXJsOiBkYXRhLmltYWdlcy5iYXNlX3VybCxcbiAgICAgICAgICBiYWNrZHJvcF9zaXplOiBkYXRhLmltYWdlcy5iYWNrZHJvcF9zaXplc1syXVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBNb3ZpZVxuICAgICAgLmdldFBvcHVsYXIoKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlLCBtb3ZpZUlkKSA9PiB7XG4gICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UucmVzdWx0cztcbiAgICAgICAgdmFyIG1vdmllSWQgPSAkcm91dGVQYXJhbXMubW92aWVJZDtcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8ZGF0YS5sZW5ndGg7aSsrKXtcbiAgICAgICAgICBpZihkYXRhW2ldLmlkID09IG1vdmllSWQpe1xuICAgICAgICAgICAgJHNjb3BlLmZvdW5kTW92aWUgPSBkYXRhW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cbiJdfQ==
